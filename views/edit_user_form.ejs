<!-- Edit user form -->
<form
  id="editUserForm"
  class="sideForm"
  style="display: none"
  autocomplete="off"
>
  <section>
    <label for="examineUser">Examine:</label>
    <textarea
      id="examineUser"
      name="examineUser"
      type="text"
      maxlength="240"
    ></textarea>
  </section>
  <section>
    <label for="studyUser">Study:</label>
    <textarea
      id="studyUser"
      name="studyUser"
      type="text"
      maxlength="640"
    ></textarea>
  </section>
  <section>
    <label for="researchUser">Research:</label>
    <textarea
      id="researchUser"
      name="researchUser"
      type="text"
      maxlength="1600"
    ></textarea>
  </section>
  <button type="submit">Update Description</button>
  <button type="button" id="cancelEditUserForm">Cancel</button>
</form>

<script>
  const editUserForm = document.getElementById("editUserForm");

  editUserForm.addEventListener("submit", (e) => {
    e.preventDefault();
    const userDescription = {
      examine: document.getElementById("examineUser").value,
      study: document.getElementById("studyUser").value,
      research: document.getElementById("researchUser").value,
    };
    socket.emit("userSubmittedUserDescription", userDescription);
    editUserForm.reset();
    editUserForm.style.display = "none"; // Hide the form after submission
  });

  document
    .getElementById("cancelEditUserForm")
    .addEventListener("click", function () {
      editUserForm.style.display = "none";
    });

  socket.on("openEditUserForm", (formData) => {
    activeForm.reset();
    activeForm.style.display = "none";
    activeForm = editUserForm;
    activeForm.style.display = "block";
    input.value = "";
    // Set the values of the textareas based on formData
    document.getElementById("examineUser").value = formData.examine || "";
    document.getElementById("studyUser").value = formData.study || "";
    document.getElementById("researchUser").value = formData.research || "";
  });
</script>
